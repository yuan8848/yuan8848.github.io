(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d03c4"],{"66b0":function(t,a,l){"use strict";l.r(a);var n=function(){var t=this,a=t.$createElement,l=t._self._c||a;return l("div",{staticClass:"sc-wp wbs-main",attrs:{id:"settingLog"}},[l("div",{staticClass:"cf"},[l("div",{staticClass:"tab-nav style-b with-4-items"},[l("a",{staticClass:"tn-item",class:{current:1==t.type},on:{click:function(a){return t.log_type(1)}}},[t._v("执行日志")]),l("a",{staticClass:"tn-item",class:{current:2==t.type},on:{click:function(a){return t.log_type(2)}}},[t._v("错误日志")]),t._v("】 ")])]),l("div",{staticClass:"log-box mt"},[t.$cnf.is_mobile?l("div",{staticClass:"cell-items",attrs:{id:"running_log"}},t._l(t.run_log,(function(a,n){return l("div",{key:"log"+n,staticClass:"cell-item"},[l("div",{staticClass:"cell-bd"},[t._v(" "+t._s(a.msg)+" "),l("div",{staticClass:"log-time"},[l("span",{staticClass:"wk"},[t._v(t._s(a.type))]),l("span",{staticClass:"wk ml"},[t._v(t._s(a.time))])])])])})),0):l("el-table",{staticClass:"wbs-table",staticStyle:{width:"100%",height:"60vh"},attrs:{id:"running_log",data:t.run_log,"row-key":"id",height:"'100%'","empty-text":"- 最近7天无推送数据，建议保持每日更新内容 -"}},[l("el-table-column",{attrs:{label:"时间","class-name":"w20"},scopedSlots:t._u([{key:"default",fn:function(a){return[l("div",{staticClass:"data-label",attrs:{"data-label":"时间: "}},[t._v(t._s(a.row.time))])]}}])}),l("el-table-column",{attrs:{label:"类型","class-name":"w20"},scopedSlots:t._u([{key:"default",fn:function(a){return[l("div",{staticClass:"url",attrs:{"data-label":"类型: "}},[t._v(t._s(a.row.type))])]}}])}),l("el-table-column",{attrs:{label:"详情"},scopedSlots:t._u([{key:"default",fn:function(a){return[l("div",{staticClass:"data-label",attrs:{"data-label":"详情: "}},[t._v(t._s(a.row.msg))]),a.row.help?l("div",{staticClass:"data-label",attrs:{"data-label":"帮助: "},domProps:{innerHTML:t._s(a.row.help)}}):t._e()]}}])})],1),l("div",{staticClass:"pt-l pd-b"},[l("el-button",{attrs:{icon:"el-icon-delete-solid",plain:"",type:"danger",size:"mini"},on:{click:function(a){return t.clean_log()}}},[t._v("清除日志")]),l("el-button",{staticClass:"ml",attrs:{icon:"el-icon-refresh",plain:"",type:"primary",size:"mini"},on:{click:function(a){return t.reload_log()}}},[t._v("刷新日志")])],1)],1)])},s=[],e=(l("4795"),{name:"LogRun",data:function(){var t=this;return{is_pro:t.$cnf.is_pro,run_log:[],log_daypush:[],type:1,loadmore:0,log_loadmore:{push:0,daypush:0},loading_data:-1,list:[]}},created:function(){},mounted:function(){var t=this;t.reload_log()},methods:{log_type:function(t){var a=this;a.type=t,a.reload_log()},clean_log:function(){var t=this;wbui.open({content:"确定清除所有所有日志?",btn:["确定","取消"],yes:function(){t.$api.saveData({action:t.$cnf.action.act,op:"clear_log",type:t.type}).then((function(a){wbui.toast("已清除"),t.run_log=a,location.reload()}))}})},reload_log:function(){var t=this;t.showLoading(),t.run_log=[],t.$api.fetchData({action:t.$cnf.action.act,op:"reload_log",type:t.type}).then((function(a){t.run_log=a,t.closeLoading(),setTimeout((function(){var a=t.$el.querySelector("#running_log .el-table__body-wrapper");a&&a.scrollTo(0,1e5),wbui.toast("已加载最新日志")}),200)}))},aboutPro:function(){this.$router.push({path:"/pro"})},showLoading:function(){var t=this;wbui.close(t.loading_data),t.loading_data=wbui.loading()},closeLoading:function(){var t=this;wbui.close(t.loading_data),t.loading_data=-1},verify_run:function(t,a){t&&(this.is_pro=1)}}}),i=e,o=l("2877"),c=Object(o["a"])(i,n,s,!1,null,null,null);a["default"]=c.exports}}]);