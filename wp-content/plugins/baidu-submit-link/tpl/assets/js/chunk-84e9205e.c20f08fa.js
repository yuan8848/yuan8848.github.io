(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84e9205e"],{e464:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_quan_work_team4_wbolt_wordpress_wp_content_plugins_baidu_submit_link_src_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("53ca"),_vue_echarts_vue_echarts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("67fc"),_vue_echarts_vue_echarts__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_vue_echarts_vue_echarts__WEBPACK_IMPORTED_MODULE_1__),storageName="WB_BSL_BASE";__webpack_exports__["a"]={name:"StatsBase",components:{"v-chart":_vue_echarts_vue_echarts__WEBPACK_IMPORTED_MODULE_1___default.a},data:function(){var t=this;return{is_loaded:0,is_pro:t.$cnf.is_pro,overview:[],day:7,chart_cnf:{},wb_idx_data_updated:"-"}},created:function(){this.load_data()},mounted:function(){var t=this;t.collectionOverview(7)},methods:{load_data:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this;e.log_loading=wbui.loading();var a=e.$WB.getSessionStorage(storageName,!0),_=a.data;if(!t&&!e.$WB.updateLocalStorageChecker(a.ver)&&_)return e.overview=_.overview,e.wb_idx_data_updated=_.wb_idx_data_updated,e.is_loaded=1,void wbui.close(e.log_loading);e.$api.getData({action:e.$cnf.action.act,op:"get_stats"}).then((function(t){var a=t["data"];e.overview=a.base_overview,e.wb_idx_data_updated=a.wb_idx_data_updated,e.is_loaded=1,wbui.close(e.log_loading),_=e.$WB.getSessionStorage(storageName)||{},_.overview=a.base_overview,_.wb_idx_data_updated=a.wb_idx_data_updated,e.$WB.setSessionStorage(storageName,_)}))},aboutPro:function(){this.$router.push({path:"/pro"})},overviewData:function(t,e){var a=t||30,_=this,n=[[],[],[],[]],o=_.$WB.getSessionStorage(storageName)||{};return o["overview_chart_"+a]?(e&&e(o["overview_chart_"+a]),o["overview_chart_"+a]):(_.$api.fetchData({action:_.$cnf.action.act,op:"index_stat",day:a}).then((function(t){n=t["data"]?t["data"]:n,e&&e(n),o=_.$WB.getSessionStorage(storageName)||{},o["overview_chart_"+a]=n,_.$WB.setSessionStorage(storageName,o)})).catch((function(){n[0]=_.zeroData(a),n[1]=_.zeroData(a),n[2]=_.zeroData(a),n[3]=_.zeroData(a),e&&e(n)})),n)},collectionOverview:function(t){var e=this,a=t||7;e.day=t;var _=e.dateXAxis(a);e.overviewData(a,(function(t){if(e.is_pro)e.chart_cnf=Object.assign({},e.$echart_cnf),e.chart_cnf.grid={show:!0,left:"left",containLabel:!0,top:20,right:20,bottom:80,backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(255,255,255,0"},e.chart_cnf.xAxis.data=_,e.chart_cnf.series=[{name:"整站收录",data:t[0],type:"line",smooth:!0},{name:"新增收录",data:t[1],type:"line",smooth:!0},{name:"未收录文章",data:t[2],type:"line",smooth:!0},{name:"文章收录",data:t[3],type:"line",smooth:!0}];else{var n=e.zeroData(a);e.chart_cnf=Object.assign({},e.$echart_cnf),e.chart_cnf.xAxis.data=_,e.chart_cnf.grid={show:!0,left:"left",containLabel:!0,top:20,right:20,bottom:80,backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(255,255,255,0"},e.chart_cnf.series=[{name:"整站收录",data:t[0],type:"line",smooth:!0},{name:"新增收录",data:t[1],type:"line",smooth:!0},{name:"未收录文章 Pro",data:n,type:"line",smooth:!0},{name:"文章收录 Pro",data:n,type:"line",smooth:!0}]}}))},dataExtend:function dataExtend(obj,cnf){var vm=this,def_cnf=JSON.stringify(vm.$echart_cnf,(function(t,e){return"function"===typeof e?e+"":e}));def_cnf=JSON.parse(def_cnf,(function(k,v){return v.indexOf&&v.indexOf("function")>-1?eval("(function(){return "+v+" })()"):v}));var newobj=cnf&&"object"===Object(_Users_quan_work_team4_wbolt_wordpress_wp_content_plugins_baidu_submit_link_src_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["a"])(cnf)?cnf:def_cnf;for(var i in obj)"object"===Object(_Users_quan_work_team4_wbolt_wordpress_wp_content_plugins_baidu_submit_link_src_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["a"])(newobj[i])?newobj[i]=vm.dataExtend(obj[i],newobj[i]):newobj[i]=obj[i];return newobj},update_index_data:function(){var t=this;t.$api.saveData({action:t.$cnf.action.act,op:"update_index_data"}).then((function(t){sessionStorage.clear(),window.location.reload()}))},dateXAxis:function(t){if(!t)return!1;for(var e=[],a=(new Date).getTime(),_=new Date,n="",o=0;o<t;o++)_.setTime(a-864e5*o),n=_.getMonth()<9?"0"+(_.getMonth()+1)+"-":_.getMonth()+1+"-",_.getDate()<10?n+="0"+_.getDate():n+=_.getDate(),e.unshift(n);return e},zeroData:function(t){for(var e=t||30,a=[],_=0;_<e;_++)a.push(0);return a}}}},e901:function(t,e,a){"use strict";a.r(e);var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sc-wp overview-with-charts wbs-main"},[a("h3",{staticClass:"sc-header ov-header"},[a("div",{staticClass:"ov-ctrl"},[a("span",[t._v("最后更新："+t._s(t.wb_idx_data_updated))]),t._v(" "),a("a",{staticClass:"btn-with-svg",attrs:{onclick:"this.classList.add('active');"},on:{click:function(e){return t.update_index_data()}}},[a("svg",{staticClass:"wb-icon sico-update"},[a("use",{attrs:{"xlink:href":"#sico-update"}})]),t._v(" "),a("span",[t._v("手动更新")])])]),a("strong",[t._v("收录概况")])]),a("div",{staticClass:"data-overview"},t._l(t.overview,(function(e){return a("div",{key:e.name,staticClass:"ao-it"},[a("dl",[a("dt",{staticClass:"it-name"},[t._v(t._s(e.name))]),a("dd",{staticClass:"it-value"},[t._v(t._s(e.value))])])])})),0),a("div",{staticClass:"overview-charts"},[a("div",{staticClass:"tab-nav"},[a("a",{staticClass:"tn-item",class:{current:7==t.day},on:{click:function(e){return t.collectionOverview(7)}}},[t._v("近7天")]),a("a",{staticClass:"tn-item",class:{current:30==t.day},on:{click:function(e){return t.collectionOverview(30)}}},[t._v("近30天")])]),a("v-chart",{staticClass:"charts-box",attrs:{options:t.chart_cnf}})],1),a("dl",{staticClass:"description mt"},[a("dt",[t._v("温馨提示：")]),t.is_pro?t._e():a("dd",[a("b",[t._v("文章收录数据统计")]),t._v("仅 "),a("a",{staticClass:"link",staticStyle:{cursor:"pointer"},on:{click:t.aboutPro}},[t._v("Pro版本")]),t._v("支持。")]),t._m(0),a("dd",[t._v("百度收录数据可能与百度搜索引擎查询有一定的差异，这跟不同地域不同客户端不同时间等因素搜索有关。")]),t._m(1)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dd",[a("b",[t._v("整站收录数据为估算值")]),t._v("，本地查询数据每6小时更新一次，API查询数据每天更新一次。网站管理员如需了解更准确的索引量，请使用百度站长平台。")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dd",[a("b",[t._v("整站收录概况查询提示“请求返回【没有找到数据】”或者数据异常")]),t._v("，这是由于百度防爬虫机制导致。")])}],o=a("e464"),i=o["a"],r=a("2877"),s=Object(r["a"])(i,_,n,!1,null,null,null);e["default"]=s.exports}}]);