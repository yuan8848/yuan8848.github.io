(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21f26d"],{d935:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"wbs-content"},[a("div",{staticClass:"wbs-main"},[t.is_loaded?a("table",{staticClass:"wbs-form-table"},[a("tbody",[a("tr",[a("th",{staticClass:"row w8em"},[t._v("推送链接类型 "),a("div",{staticClass:"wbui-tooltip",attrs:{"data-msg":"不建议推送媒体、页面链接类型至百度"}},[a("svg",{staticClass:"wb-icon sico-qa"},[a("use",{attrs:{"xlink:href":"#sico-qa"}})])])]),a("td",[a("div",{staticClass:"selector-bar"},t._l(t.init_data.post_types,(function(e,s){return a("label",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.post_type,expression:"opt.post_type"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(t.opt.post_type)?t._i(t.opt.post_type,s)>-1:t.opt.post_type},on:{change:function(e){var a=t.opt.post_type,o=e.target,i=!!o.checked;if(Array.isArray(a)){var c=s,n=t._i(a,c);o.checked?n<0&&t.$set(t.opt,"post_type",a.concat([c])):n>-1&&t.$set(t.opt,"post_type",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.opt,"post_type",i)}}}),t._v(t._s(e))])})),0)])]),a("tr",[a("th",[t._v("日志保留时间 "),a("div",{staticClass:"wbui-tooltip",attrs:{"data-msg":"网站文章数据较多，可以考虑较短日志保留时间。"}},[a("svg",{staticClass:"wb-icon sico-qa"},[a("use",{attrs:{"xlink:href":"#sico-qa"}})])])]),a("td",[a("div",{staticClass:"selector-bar"},t._l(t.init_data.log_day,(function(e,s){return a("label",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.log_day,expression:"opt.log_day"}],attrs:{type:"radio"},domProps:{value:s,checked:t._q(t.opt.log_day,s)},on:{change:function(e){return t.$set(t.opt,"log_day",s)}}}),t._v(" "+t._s(e)+" ")])})),0)])]),a("tr",[a("th",[t._v("死链检测设置 ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.check_404,expression:"opt.check_404"}],staticClass:"wb-switch",attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.opt.check_404)?t._i(t.opt.check_404,null)>-1:t._q(t.opt.check_404,"1")},on:{change:function(e){var a=t.opt.check_404,s=e.target,o=s.checked?"1":"0";if(Array.isArray(a)){var i=null,c=t._i(a,i);s.checked?c<0&&t.$set(t.opt,"check_404",a.concat([i])):c>-1&&t.$set(t.opt,"check_404",a.slice(0,c).concat(a.slice(c+1)))}else t.$set(t.opt,"check_404",o)}}}),a("div",{staticClass:"description mt"},[t._v("*死链检测依赖Spider Analyser-蜘蛛分析插件。 "),t.init_data.spider_install?t._e():a("div",{staticClass:"wb-hl wb-hl-inline"},[a("svg",{staticClass:"wb-icon wbsico-notice"},[a("use",{attrs:{"xlink:href":"#wbsico-notice"}})]),a("span",[t._v("未检测到Spider Analyser安装，去")]),t._v(" "),a("a",{staticClass:"link",attrs:{href:t.init_data.spider_setup_url}},[t._v("安装")])]),t.init_data.spider_active?t._e():a("div",{staticClass:"wb-hl wb-hl-inline"},[a("svg",{staticClass:"wb-icon wbsico-notice"},[a("use",{attrs:{"xlink:href":"#wbsico-notice"}})]),a("span",[t._v("未检测到Spider Analyser启用，去")]),t._v(" "),a("a",{staticClass:"link",attrs:{href:t.init_data.spider_setup_url}},[t._v("启用")])])]),a("div",{staticClass:"description mt"},[t._v("*对死链及时处理有利于网站权重，建议开启该功能。")])])]),a("tr",[a("th",[t._v("API推送选项")]),a("td",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.old_post_push,expression:"opt.old_post_push"}],staticClass:"wb-switch",attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.opt.old_post_push)?t._i(t.opt.old_post_push,null)>-1:t._q(t.opt.old_post_push,"1")},on:{change:function(e){var a=t.opt.old_post_push,s=e.target,o=s.checked?"1":"0";if(Array.isArray(a)){var i=null,c=t._i(a,i);s.checked?c<0&&t.$set(t.opt,"old_post_push",a.concat([i])):c>-1&&t.$set(t.opt,"old_post_push",a.slice(0,c).concat(a.slice(c+1)))}else t.$set(t.opt,"old_post_push",o)}}}),t._v(" 旧文章更新时间不占百度快速推送配额 ")]),a("div",{staticClass:"mt"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.auto_check_in_baidu,expression:"opt.auto_check_in_baidu"}],staticClass:"wb-switch",attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.opt.auto_check_in_baidu)?t._i(t.opt.auto_check_in_baidu,null)>-1:t._q(t.opt.auto_check_in_baidu,"1")},on:{change:function(e){var a=t.opt.auto_check_in_baidu,s=e.target,o=s.checked?"1":"0";if(Array.isArray(a)){var i=null,c=t._i(a,i);s.checked?c<0&&t.$set(t.opt,"auto_check_in_baidu",a.concat([i])):c>-1&&t.$set(t.opt,"auto_check_in_baidu",a.slice(0,c).concat(a.slice(c+1)))}else t.$set(t.opt,"auto_check_in_baidu",o)}}}),t._v(" 主动检测采集入库文章推送 ")])])])])])]):t._e()]),t.is_pro?t._e():a("wbs-more-sources")],1),a("wbs-ctrl-bar",{on:{submit:t.update_data}})],1)},o=[],i=a("6104"),c={name:"SettingBase",data:function(){var t=this;return{form_changed:1,is_loaded:0,is_pro:1,opt:t.$opt,init_data:{}}},created:function(){var t=this;t.get_data(),Object(i["b"])(t.verify_run)},methods:{get_data:function(){var t=this;t.$api.getData({action:t.$cnf.action.act,op:"get_setting_cnf"}).then((function(e){t.init_data=e["data"],t.is_loaded=1}))},update_data:function(t){var e=this,a={};Object.assign(a,e.opt),a.btoa=0,window.btoa&&(a.btoa=1,a.byte_js&&(a.byte_js=window.btoa(a.byte_js)),a.google_key&&(a.google_key=window.btoa(a.google_key)),a.qhjs&&(a.qhjs=window.btoa(a.qhjs))),e.$api.saveData({action:e.$cnf.action.act,op:"update_setting",opt:a}).then((function(a){wbui.toast("设置保存成功"),e.form_changed=1,t&&t()}))},aboutPro:function(){this.$router.push({path:"/pro"})},pro_click:function(t){var e=this;e.is_pro||(t.preventDefault(),wbui.open({content:"该功能仅Pro版本提供，您当前使用Free版本。",btn:["升级PRO","取消"],yes:function(){return e.aboutPro(),!1}}))},verify_run:function(t,e){t&&(this.is_pro=1)}},watch:{opt:{handler:function(){this.form_changed++},deep:!0}},beforeRouteLeave:function(t,e,a){var s=this;s.form_changed>1?wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes:function(){return a(!1),s.update_data((function(){a()})),!1},no:function(){return a(),!1}}):a()}},n=c,r=a("2877"),_=Object(r["a"])(n,s,o,!1,null,null,null);e["default"]=_.exports}}]);