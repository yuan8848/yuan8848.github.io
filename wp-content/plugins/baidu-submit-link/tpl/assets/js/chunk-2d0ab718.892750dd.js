(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab718"],{"14fe":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"sc-wp wbs-main"},[e("div",{staticClass:"cf"},[e("div",{staticClass:"tab-nav style-b"},[e("a",{staticClass:"tn-item",class:{current:102==t.type},on:{click:function(a){return t.log_type(102)}}},[t._v("所有推送")]),e("a",{staticClass:"tn-item",class:{current:20==t.type},on:{click:function(a){return t.log_type(20)}}},[t._v("360推送")]),e("a",{staticClass:"tn-item",class:{current:21==t.type},on:{click:function(a){return t.log_type(21)}}},[t._v("神马推送")]),e("a",{staticClass:"tn-item",class:{current:22==t.type},on:{click:function(a){return t.log_type(22)}}},[t._v("头条推送")]),e("a",{staticClass:"tn-item",class:{current:32==t.type},on:{click:function(a){return t.log_type(32)}}},[t._v("IndexNow")]),e("a",{staticClass:"tn-item",class:{current:33==t.type},on:{click:function(a){return t.log_type(33)}}},[t._v("Yandex")]),e("el-button",{staticClass:"fr tn-clear-item",attrs:{icon:"el-icon-delete-solid",plain:"",size:"mini"},on:{click:function(a){return t.clean_log(t.type)}}},[e("span",{staticClass:"when-m-hide"},[t._v("清除日志")])])],1)]),e("div",{staticClass:"log-box mt"},[e("el-table",{staticClass:"wbs-table",staticStyle:{width:"100%"},attrs:{data:t.list,"row-key":"id","empty-text":"- 最近7天无推送数据，建议保持每日更新内容 -"}},[e("el-table-column",{attrs:{label:"日期","class-name":"w30"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data-label",attrs:{"data-label":"发布日期: "}},[t._v(t._s(a.row.date))])]}}])}),e("el-table-column",{attrs:{label:"链接","class-name":"w40"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"url",attrs:{"data-label":"链接: "}},[t._v(t._s(a.row.url))])]}}])}),e("el-table-column",{attrs:{label:"推送状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data-label",attrs:{"data-label":"状态: "},domProps:{innerHTML:t._s(1==a.row.s_push?'<span class="suc">成功</span>':"失败")}})]}}])}),e("el-table-column",{attrs:{label:"推送方式"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data-label",attrs:{"data-label":"推送方式: "}},[t._v(t._s({20:"360推送",21:"神马推送",22:"头条推送",32:"IndexNow",33:"Yandex"}[a.row.type]))])]}}])})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length>0"}],staticClass:"btns-bar"},[e("el-pagination",{attrs:{background:"",layout:t.$cnf.is_mobile?"pager, total, prev, next":"total, prev, pager, next, jumper","page-sizes":[10,30,50,100],"page-size":t.num,total:1*t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.nav_page}})],1),20==t.type&&"0"==t.opt.qh_active?e("div",{staticClass:"getpro-mask"},[e("div",{staticClass:"mask-inner"},[e("router-link",{staticClass:"wbs-btn-primary",attrs:{to:"setting-api"}},[t._v("启用360自动推送")]),e("p",{staticClass:"tips"},[t._v("*注意：当前功能依赖360自动推送设置。当前该功能处于关闭状态，需启用后才可使用该功能。")])],1)]):t._e()],1),20==t.type?e("dl",{staticClass:"description pt-l"},[e("dt",[t._v("温馨提示：")]),e("dd",[t._v("360站长已下线推送JS申请入口，已申请JS的网站暂不受影响。")]),e("dd",[t._v("360无推送日志，请确保插件设置是否正确贴入360站长平台域名对应的自动收录JS代码。")])]):t._e()])},n=[],l="WB_BSL_USER_OPT_"+window.uid,o={name:"LogQh",data:function(){var t=this;return{is_pro:t.$cnf.is_pro,opt:t.$opt,type:102,list:[],loading_data:-1,num:10,total:0,page:1}},created:function(){},mounted:function(){var t=this,a=t.$WB.getLocalStorage(l)||{};t.num=a["PAGE_SIZE"]||10,t.list=[],t.load_data()},methods:{log_type:function(t){var a=this;a.type=t,a.list=[],a.load_data()},clean_log:function(t){var a=this;return wbui.open({content:"确定清除所有推送日志?",btn:["确定","取消"],yes:function(){a.$api.saveData({action:a.$cnf.action.act,op:"clean_log",type:t}).then((function(t){wbui.toast("清除成功"),sessionStorage.removeItem("WB_BSL_LOG_OTHER"),location.reload()}))}}),!1},load_data:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this,e=a.num||10;a.showLoading();var s="WB_BSL_LOG_OTHER",n=a.$WB.getSessionStorage(s,!0),l=n.data;return!t&&!a.$WB.updateLocalStorageChecker(n.ver)&&l&&l.num==a.num&&l.list[a.type]&&l.list[a.type][a.page]||!t&&!a.$WB.updateLocalStorageChecker(n.ver)&&l&&l.num==a.num&&l.list[a.type]&&l.list[a.type][a.page]?(a.list=l.list[a.type][a.page],a.total=l.total[a.type],a.closeLoading(),void(a.is_loaded=1)):void a.$api.getData({action:a.$cnf.action.act,op:"push_log",num:e,page:a.page,type:a.type}).then((function(t){a.list=t.data,a.total=t.total,a.closeLoading(),l=a.$WB.getSessionStorage(s)||{list:{},total:{}};try{var n=l.list[a.type]||{},o=l.total;n[a.page]=t.data,o[a.type]=a.total,l.list[a.type]=n,l.total=o,l.num=e,a.$WB.setSessionStorage(s,l)}catch(i){}})).catch((function(){a.closeLoading()}))},aboutPro:function(){this.$router.push({path:"/pro"})},showLoading:function(){var t=this;wbui.close(t.loading_data),t.loading_data=wbui.loading()},closeLoading:function(){var t=this;wbui.close(t.loading_data),t.loading_data=-1},nav_page:function(t){var a=this;a.page=t,a.load_data()},handleSizeChange:function(t){var a=e.$WB.getLocalStorage(l)||{},e=this;e.num=t,e.page=1,a["PAGE_SIZE"]=t,e.$WB.setLocalStorage(l,a),sessionStorage.clear(),e.load_data()}}},i=o,c=e("2877"),r=Object(c["a"])(i,s,n,!1,null,null,null);a["default"]=r.exports}}]);