(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b724b"],{"1fbb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wbs-content-inner"},[a("div",{staticClass:"wbs-main"},[a("div",{staticClass:"wbs-ctrl-bar cf"},[a("el-select",{staticClass:"ctrl-item w8em",attrs:{clearable:"",placeholder:"类型",size:"small"},model:{value:t.q.code,callback:function(e){t.$set(t.q,"code",e)},expression:"q.code"}},t._l({301:"301永久重定向",302:"302临时重定向"},(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),1),a("el-select",{staticClass:"ctrl-item w8em",attrs:{clearable:"",filterable:"",placeholder:"状态",size:"small"},model:{value:t.q.status,callback:function(e){t.$set(t.q,"status",e)},expression:"q.status"}},t._l({1:"启用",2:"停用"},(function(t,e){return a("el-option",{key:e,attrs:{filterable:"",label:t,value:e}})})),1),a("el-input",{staticClass:"m-hide ctrl-item wbs-input-short",attrs:{placeholder:"输入关键字",clearable:"",size:"small"},on:{clear:t.doSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearch(e)}},model:{value:t.q.q,callback:function(e){t.$set(t.q,"q",e)},expression:"q.q"}}),a("el-button",{staticClass:"ctrl-item",attrs:{type:"primary",plain:"",name:"search",size:"small"},on:{click:t.doSearch}},[t._v("筛选")]),t.is_pro?a("el-button",{staticClass:"fr",attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus"},on:{click:function(e){return t.editRow(0)}}},[t._v("新增")]):t._e()],1),t.is_loaded?a("div",{staticClass:"log-box mt"},[a("el-table",{staticClass:"wbs-table mt",staticStyle:{width:"100%"},attrs:{data:t.dataList},on:{"selection-change":t.handle_selection_change}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"类型","class-name":"w15"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s({301:"301永久重定向",302:"302临时重定向"}[e.row.action_code])+" ")]}}],null,!1,2378173762)}),a("el-table-column",{attrs:{label:"旧URL/规则","class-name":"w25"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{"data-label":"旧URL"}},[a("span",[t._v(t._s(e.row.url))])])]}}],null,!1,2498503066)}),a("el-table-column",{attrs:{label:"新URL/规则","class-name":"w20"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{"data-label":"新URL"}},[a("span",[t._v(t._s(e.row.action_data))])])]}}],null,!1,898912343)}),a("el-table-column",{attrs:{label:"状态","class-name":"w10"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{"data-label":"状态"}},[a("span",[t._v(t._s({1:"启用",2:"停用"}[e.row.status]))])])]}}],null,!1,2677530018)}),a("el-table-column",{attrs:{label:"操作",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{plain:"",size:"mini",type:"danger"},on:{click:function(a){return t.delRow(e.row)}}},[t._v("删除")]),a("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(a){return t.editRow(e.row.id)}}},[t._v("编辑")]),1==e.row.status?a("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(a){return t.setStatus(e.row,2)}}},[t._v("停用")]):t._e(),2==e.row.status?a("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(a){return t.setStatus(e.row,1)}}},[t._v("启用")]):t._e()]}}],null,!1,850331214)})],1),t.dataList.length>0?a("div",{staticClass:"btns-bar with-ctrl-area mt"},[a("div",{staticClass:"wb-ctrl-area"},[a("el-select",{attrs:{size:"small",placeholder:"批量操作"},model:{value:t.batch_op,callback:function(e){t.batch_op=e},expression:"batch_op"}},[a("el-option",{attrs:{label:"启用",value:"on"}}),a("el-option",{attrs:{label:"停用",value:"off"}}),a("el-option",{attrs:{label:"删除",value:"del"}})],1),a("el-button",{staticClass:"ml-s",attrs:{type:"info",plain:"",size:"small"},on:{click:t.batch_apply}},[t._v("应用")])],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","page-size":1*t.page_num,total:1*t.record_total},on:{"current-change":t.nav_page}})],1):t._e(),t.is_pro?t._e():a("div",{staticClass:"getpro-mask"},[a("div",{staticClass:"mask-inner"},[a("a",{staticClass:"wbs-btn-primary",on:{click:function(e){return t.doActivePro()}}},[t._v("获取PRO版本")]),a("p",{staticClass:"tips"},[t._v("* 激活PRO版本即可使用")])])])],1):t._e(),t._m(0)]),t.is_pro?t._e():a("wbs-more-sources")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dl",{staticClass:"description mt"},[a("dt",[t._v("温馨提示：")]),a("dd",[t._v(" 关于301永久重定向或者302临时重定向，可以阅读"),a("a",{attrs:{href:"https://www.wbolt.com/301-redirects.html",target:"_blank",rel:"noopener noreferrer nofollow"}},[t._v("深入了解301重定向及其与SEO优化之间的关系")]),t._v("和"),a("a",{attrs:{href:"https://www.wbolt.com/301-or-302-redirects.html",target:"_blank",rel:"noopener noreferrer nofollow"}},[t._v("基于SEO优化角度应该选择301还是302重定向")]),t._v("； ")]),a("dd",[t._v("如果出现大量链接规则变更，建议添加规则进行匹配重定向，比如分类文章链接https://domain.com/news/post_id变更为https://domain.com/blog/post_id，则可以添加301重定向规则："),a("code",[t._v("https://domain.com/news/(*) Redirect To https://domain.com/blog/$1")]),t._v("。")])])}],o=(a("3bae"),a("4200"),a("365c")),l={name:"UrlRedirect",components:{},data:function(){var t=this;return{form_changed:0,is_loaded:0,is_pro:t.$cnf.is_pro,q:{code:"",status:"",q:""},page:1,page_num:20,record_total:0,dataList:[],batch_op:"",multipleSelection:[],viewAllOption:0}},created:function(){var t=this;t.$verify((function(e,a){t.$cnf.is_pro=e,e&&a&&a.param&&a.param.action&&(t.$cnf.action.act=a.param.action),e?t.get_data():t.is_loaded=!0}))},methods:{doSearch:function(){var t=this;t.page=1,t.load_data()},editRow:function(t){this.$router.push({path:"/url-redirection-detail",query:{id:t}})},get_data:function(){var t=this;Object(o["b"])({action:t.$cnf.action.act,op:"redirection-list",page:1,num:t.page_num}).then((function(e){t.dataList=e.data,t.record_total=e.total,t.is_loaded=1}))},load_data:function(){var t=this;Object(o["b"])({action:t.$cnf.action.act,op:"redirection-list",page:t.page,q:t.q}).then((function(e){t.dataList=e.data,t.record_total=e.total}))},nav_page:function(t){this.page=t,this.load_data()},switch_tab:function(t){var e=this;e.type=t,e.page=1,e.load_data()},handle_selection_change:function(t){this.multipleSelection=t},batch_apply:function(){var t=this;if(!t.batch_op)return!1;if(t.multipleSelection.length<1)return wbui.toast("未选择项目"),!1;var e=[];if(t.multipleSelection.forEach((function(t){e.push(t.id)})),!(e.length<1))if("on"==t.batch_op)wbui.confirm("所选链接确认设置为启用？",(function(){var a=wbui.toast("执行中...",{time:180});Object(o["b"])({action:t.$cnf.action.act,op:"redirection-state",type:"on",ids:e.join(",")}).then((function(e){wbui.close(a),wbui.toast("更新完毕"),t.load_data()}))}));else if("off"==t.batch_op){var a=wbui.toast("执行中...",{time:180});wbui.confirm("所选链接确认设置为停用？",(function(){Object(o["b"])({action:t.$cnf.action.act,op:"redirection-state",type:"off",ids:e.join(",")}).then((function(e){wbui.close(a),wbui.toast("更新完毕"),t.load_data()}))}))}else if("del"==t.batch_op){var n=wbui.toast("执行中...",{time:180});wbui.confirm("确认删除所选链接？",(function(){Object(o["b"])({action:t.$cnf.action.act,op:"redirection-state",type:"del",ids:e.join(",")}).then((function(e){wbui.close(n),wbui.toast("删除完毕"),t.page=1,t.load_data()}))}))}},delRow:function(t){var e=this;return wbui.confirm("确认删除链接？",(function(){Object(o["b"])({action:e.$cnf.action.act,op:"redirection-state",type:"del",ids:t.id}).then((function(t){wbui.toast("删除完毕"),e.page=1,e.load_data()}))})),!1},setStatus:function(t,e){var a=this,n=1==e?"on":"off";return wbui.confirm("确认更新状态？",(function(){Object(o["b"])({action:a.$cnf.action.act,op:"redirection-state",type:n,ids:t.id}).then((function(t){wbui.toast("更新完毕"),a.load_data()}))})),!1}}},s=l,c=a("5d22"),r=Object(c["a"])(s,n,i,!1,null,null,null);e["default"]=r.exports}}]);