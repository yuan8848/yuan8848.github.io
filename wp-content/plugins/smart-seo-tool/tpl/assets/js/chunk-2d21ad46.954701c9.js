(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ad46"],{bcd3:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wbs-content-inner"},[r("div",{staticClass:"wbs-main"},[t.is_loaded?r("div",{staticClass:"sc-body"},[r("table",{staticClass:"wbs-form-table"},[r("tbody",[r("tr",[r("th",[t._v("类型")]),r("td",[r("div",{staticClass:"selector-bar"},t._l({301:"301永久重定向",302:"302临时重定向"},(function(e,a){return r("label",{key:"type-"+a},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.r.code,expression:"r.code"}],attrs:{type:"radio"},domProps:{value:a,checked:t._q(t.r.code,a)},on:{change:function(e){return t.$set(t.r,"code",a)}}}),r("span",[t._v(t._s(e))])])})),0)])]),r("tr",[r("th",[t._v("源URL")]),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.r.from_url,expression:"r.from_url"}],staticClass:"wbs-input",attrs:{type:"text"},domProps:{value:t.r.from_url},on:{input:function(e){e.target.composing||t.$set(t.r,"from_url",e.target.value)}}}),r("div",{staticClass:"mt"},[r("span",{staticClass:"wk"},[t._v("URL参数匹配:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.r.param,expression:"r.param"}],staticClass:"ml",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.r,"param",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"match"}},[t._v("全匹配")]),r("option",{attrs:{value:"ignore"}},[t._v("忽略参数")]),r("option",{attrs:{value:"ignore2target"}},[t._v(" 忽略参数且参数跟随到目标Url ")])])])])]),r("tr",[r("th",[t._v("目标URL")]),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.r.to_url,expression:"r.to_url"}],staticClass:"wbs-input",attrs:{type:"text"},domProps:{value:t.r.to_url},on:{input:function(e){e.target.composing||t.$set(t.r,"to_url",e.target.value)}}})])])])])]):t._e(),t._e()]),r("div",{staticClass:"wbs-footer"},[r("div",{staticClass:"wbsf-inner"},[r("button",{staticClass:"wbs-btn-reset",on:{click:function(e){return t.back()}}},[t._v("取消")]),r("button",{staticClass:"wbs-btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updateData()}}},[t._v(" 保存 ")])])])])},o=[],s=(r("fc13"),r("9b5f"),r("365c")),n={name:"UrlRedirectDetail",components:{},data:function(){var t=this;return{form_changed:0,is_loaded:1,is_pro:t.$cnf.is_pro,r:{id:0,code:301,from_url:"",param:"match",to_url:""}}},created:function(){var t=this;t.get_data()},methods:{back:function(){this.$router.back()},updateData:function(){var t=this,e=t.r;e.from_url=e.from_url.replace(wb_cnf.home_url,""),/^https?:\/\//.test(e.from_url)?wbui.toast("源URL需本站URL"):(/^\//.test(e.from_url)||(e.from_url="/"+e.from_url),e.to_url=e.to_url.replace(wb_cnf.home_url,""),/^https?:\/\//.test(e.to_url)||/^\//.test(e.to_url)||(e.to_url="/"+e.to_url),e.from_url!=e.to_url?Object(s["c"])({action:t.$cnf.action.act,op:"redirection-save",r:t.r}).then((function(e){e.code?wbui.toast("保存失败，"+e.desc):(wbui.toast("保存成功"),t.r.id||(t.r.id=e.data),t.$router.back())})):wbui.toast("源URL与目标URL不能相同"))},get_data:function(){var t=this,e=1*t.$route.query.id;t.is_loaded=1,e<1||Object(s["b"])({action:t.$cnf.action.act,op:"redirection-detail",id:e}).then((function(e){t.r=e.data}))}}},i=n,c=r("5d22"),l=Object(c["a"])(i,a,o,!1,null,null,null);e["default"]=l.exports}}]);