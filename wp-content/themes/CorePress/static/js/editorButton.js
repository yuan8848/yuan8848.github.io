(function(a){a("#edit-slug-box").on("click","#btn-link-cntoen",function(e){a("#edit-slug-buttons button").click();var t=a("#new-post-slug").val();if(t==undefined){alert("先点击编辑在点击转换");return}t=a("#title").val();a.post(ajaxobj.ajax_url,{action:"corepress_getfirstspell",text:t},function(e){var t=JSON.parse(e);if(t.code==1){a("#new-post-slug").val(t.data.toLowerCase())}})});tinymce.PluginManager.add("gh-addShortCode",function(e,t){e.on("click",function(t){var e=t.path[1];if(a(e).attr("id")=="corepress-editbtn"){var n=a(t.path[2]).text();var i=a(t.path[2]).find("#corepress-editbtn").parent().find("code");editcode(n,i)}else if(a(e).attr("id")=="corepress-delbtn"){layer.confirm("确定删除本行代码？",{title:"删除提示",btn:["确定","取消"]},function(e){a(t.path[2]).remove();layer.close(e)})}a(e).find("#corepress-editbtn").remove();a(e).find("#corepress-delbtn").remove();if(a(t.path[0])[0].tagName=="PRE"){a(t.path[0]).append('<div id="corepress-editbtn" title="编辑"><span class="dashicons dashicons-welcome-write-blog"></span></div>');a(t.path[0]).append('<div id="corepress-delbtn" title="删除"><span class="dashicons dashicons-no"></span></div>')}})})})(jQuery);